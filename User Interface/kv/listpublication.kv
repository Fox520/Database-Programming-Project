<ListPublicationScreen>:
    GridLayout:
        rows: 2
        MDToolbar:
            id: toolbar
            title: "Showing all publications"
            md_bg_color: app.theme_cls.primary_color
            background_palette: 'Primary'
            background_hue: '500'
            elevation: 10
            left_action_items: [['arrow-left', lambda x: root.on_back_pressed()]]

        RecycleView:
            id: rv
            viewclass: 'ItemList'
            key_size: 'height'
            data: root.publications_data
            RecycleBoxLayout:
                padding: dp(10)
                spacing: dp(10)
                default_size: None, dp(48)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'


<ItemList>:
    padding: dp(15)
    spacing: dp(10)
    elevation: 10

    publication_id: 0
    publication_type: ""
    publisher_name: ""
    publication_date: ""
    author_names: ""
    edition: ""
    volume: ""
    city: ""
    conf_title: ""
    abstract: ""
    book_title: ""
    journal_title: ""
    file_path: ""
    img_src: ""


    Image:
        source: root.img_src
        size_hint: None, None
        size: dp(48), dp(48)
        pos_hint: {"center_y": .5}

    BoxLayout:
        orientation: "vertical"
        pos_hint: {"center_y": .5}
        size_hint: None, None
        size: self.minimum_size

        MyLabel:
            text: root.publication_type
        MyLabel:
            text: root.book_title
        MyLabel:
            text: root.journal_title
        MyLabel:
            text: root.conf_title
        MyLabel:
            text: root.edition
        MyLabel:
            text: root.volume
        MyLabel:
            text: root.author_names
        MyLabel:
            text: root.publisher_name

        MyLabel:
            text: root.city

        MyLabel:
            text: root.abstract
        MyLabel:
            text: root.publication_date


    Widget:

    MDRaisedButton:
        text: "View"
        pos_hint: {"center_y": .5}
        on_release: root.prepare_viewing_of_publication()


<MyLabel@Label>:
    color: 0, 0, 0, 1
    size_hint: None, None
    size: self.texture_size